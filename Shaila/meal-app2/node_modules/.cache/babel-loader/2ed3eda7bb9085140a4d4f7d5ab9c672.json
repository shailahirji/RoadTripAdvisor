{"ast":null,"code":"import _classCallCheck from \"/Users/shaila/my-googlemap/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/shaila/my-googlemap/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/shaila/my-googlemap/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/shaila/my-googlemap/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/shaila/my-googlemap/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/shaila/my-googlemap/src/Map.js\";\n//create component called CurrentLocation where all functionality to pick browsers location lies \nimport React from 'react';\nimport ReactDOM from 'react-dom';\nvar mapStyles = {\n  map: {\n    position: 'absolute',\n    width: '100%',\n    height: '100%'\n  }\n};\nexport var CurrentLocation =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(CurrentLocation, _React$Component);\n\n  function CurrentLocation(props) {\n    var _this;\n\n    _classCallCheck(this, CurrentLocation);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CurrentLocation).call(this, props)); //make it stateful\n\n    var _this$props$initialCe = _this.props.initialCenter,\n        lat = _this$props$initialCe.lat,\n        lng = _this$props$initialCe.lng;\n    _this.state = {\n      CurrentLocation: {\n        lat: lat,\n        lng: lng\n      }\n    };\n    return _this;\n  }\n\n  _createClass(CurrentLocation, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (prevProps.google !== this.props.google) {\n        this.loadMap();\n      }\n\n      if (prevState.CurrentLocation !== this.state.CurrentLocation) {\n        this.recenterMap();\n      }\n    }\n  }, {\n    key: \"recenterMap\",\n    value: function recenterMap() {\n      var map = this.map;\n      var current = this.state.CurrentLocation;\n      var google = this.props.google;\n      var maps = google.maps;\n\n      if (map) {\n        var center = new maps.LatLng(current.lat, current.lng);\n        map.panTo(center);\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      if (this.props.centerAroundCurrentLocation) {\n        if (navigator && navigator.geolocation) {\n          navigator.geolocation.getCurrentPosition(function (pos) {\n            var coords = pos.coords;\n\n            _this2.setState({\n              currentLocation: {\n                lat: coords.latitude,\n                lng: coords.longitude\n              }\n            });\n          });\n        }\n      }\n\n      this.loadMap();\n    } //only called after the component has been rendered and grabs a reference to the DOM component \n\n  }, {\n    key: \"loadMap\",\n    value: function loadMap() {\n      console.log(\"here\");\n\n      if (this.props && this.props.google) {\n        //check if google is available \n        var google = this.props.google;\n        var maps = google.maps;\n        var mapRef = this.refs.map; //reference to the actual DOM element \n\n        var node = ReactDOM.findDOMNode(mapRef);\n        var zoom = this.props.zoom;\n        var _this$state$currentLo = this.state.currentLocation,\n            lat = _this$state$currentLo.lat,\n            lng = _this$state$currentLo.lng;\n        var center = new maps.LatLng(lat, lng);\n        var mapConfig = Object.assign({}, {\n          center: center,\n          zoom: zoom\n        });\n        this.map = new maps.Map(node, mapConfig);\n      }\n    }\n  }, {\n    key: \"renderChildren\",\n    value: function renderChildren() {\n      var _this3 = this;\n\n      var children = this.props.children;\n      if (!children) return;\n      return React.Children.map(children, function (c) {\n        if (!c) return;\n        return React.cloneElement(c, {\n          map: _this3.map,\n          google: _this3.props.google,\n          mapCenter: _this3.state.currentLocation\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var style = Object.assign({}, mapStyles.map);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        styles: style,\n        ref: \"map\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }), this.renderChildren());\n    }\n  }]);\n\n  return CurrentLocation;\n}(React.Component);\nexport default CurrentLocation;\nCurrentLocation.defaultProps = {\n  zoom: 14,\n  initialCenter: {\n    lat: 47.5844,\n    lng: -122.1482\n  },\n  centerAroundCurrentLocation: false,\n  visible: true\n};","map":{"version":3,"sources":["/Users/shaila/my-googlemap/src/Map.js"],"names":["React","ReactDOM","mapStyles","map","position","width","height","CurrentLocation","props","initialCenter","lat","lng","state","prevProps","prevState","google","loadMap","recenterMap","current","maps","center","LatLng","panTo","centerAroundCurrentLocation","navigator","geolocation","getCurrentPosition","pos","coords","setState","currentLocation","latitude","longitude","console","log","mapRef","refs","node","findDOMNode","zoom","mapConfig","Object","assign","Map","children","Children","c","cloneElement","mapCenter","style","renderChildren","Component","defaultProps","visible"],"mappings":"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","sourcesContent":["//create component called CurrentLocation where all functionality to pick browsers location lies \nimport React from 'react'\nimport ReactDOM from 'react-dom'\n\n\nconst mapStyles={\n    map:{\n        position :'absolute',\n        width:'100%',\n        height: '100%'\n    }\n};\n\nexport class CurrentLocation extends React.Component{\n    constructor(props){\n        super(props);//make it stateful\n        const {lat,lng}=this.props.initialCenter;\n        this.state={\n            CurrentLocation:{\n                lat: lat,\n                lng:lng\n            }\n        };\n    }\n\n    componentDidUpdate(prevProps,prevState){\n        if(prevProps.google!== this.props.google){\n            this.loadMap();\n        }\n        if(prevState.CurrentLocation !== this.state.CurrentLocation){\n            this.recenterMap();\n        }\n    }\n\n    recenterMap(){\n        const map=this.map;\n        const current =this.state.CurrentLocation;\n\n        const google=this.props.google;\n        const maps=google.maps;\n\n        if(map){\n            let center=new maps.LatLng(current.lat,current.lng);\n            map.panTo(center);\n        }\n    }\n\n    componentDidMount(){\n        if(this.props.centerAroundCurrentLocation){\n            if(navigator && navigator.geolocation){\n                navigator.geolocation.getCurrentPosition(pos =>{\n                    const coords= pos.coords;\n                    this.setState({\n                        currentLocation:{\n                            lat: coords.latitude,\n                            lng:coords.longitude\n\n                        }\n                    });\n                });\n            }\n        }\n        this.loadMap();\n    }\n\n    //only called after the component has been rendered and grabs a reference to the DOM component \n    loadMap(){\n        console.log(\"here\");\n        if(this.props && this.props.google){\n            //check if google is available \n            const{google}=this.props;\n            const maps=google.maps;\n            const mapRef=this.refs.map;\n\n            //reference to the actual DOM element \n            const node=ReactDOM.findDOMNode(mapRef);\n\n            let{zoom}=this.props;\n            const{lat,lng}=this.state.currentLocation;\n            const center= new maps.LatLng(lat,lng);\n            const mapConfig=Object.assign(\n                {},\n                {\n                    center:center,\n                    zoom:zoom\n                }\n            );\n            this.map= new maps.Map(node,mapConfig);\n        }\n    }\n\n    renderChildren(){\n        const {children}=this.props;\n\n        if(!children) return;\n\n        return React.Children.map(children, c=>{\n            if(!c) return;\n            return React.cloneElement(c,{\n                map: this.map,\n                google:this.props.google,\n                mapCenter: this.state.currentLocation\n            });\n        });\n    }\n\n    render(){\n        const style=Object.assign({},mapStyles.map);\n        return(\n            <div>\n                <div styles={style} ref=\"map\">\n\n                </div>\n                {this.renderChildren()}\n            </div>\n        );\n    }\n    \n}\n\nexport default CurrentLocation;\n\nCurrentLocation.defaultProps={\n    zoom:14,\n    initialCenter:{\n        lat:47.5844,\n        lng: -122.1482\n    },\n    centerAroundCurrentLocation:false,\n    visible:true\n};"]},"metadata":{},"sourceType":"module"}