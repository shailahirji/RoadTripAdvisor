{"ast":null,"code":"import _classCallCheck from \"/Users/shaila/Documents/GitHub/RoadTripAdvisor/Shaila/RTA-landing-meal/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/shaila/Documents/GitHub/RoadTripAdvisor/Shaila/RTA-landing-meal/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/shaila/Documents/GitHub/RoadTripAdvisor/Shaila/RTA-landing-meal/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/shaila/Documents/GitHub/RoadTripAdvisor/Shaila/RTA-landing-meal/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/shaila/Documents/GitHub/RoadTripAdvisor/Shaila/RTA-landing-meal/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/shaila/Documents/GitHub/RoadTripAdvisor/Shaila/RTA-landing-meal/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/shaila/Documents/GitHub/RoadTripAdvisor/Shaila/RTA-landing-meal/src/components/MealPreferences.js\";\nimport React, { Component } from \"react\"; // import {Container, Col, Row,Button} from 'reactstrap'\n\nimport { Container } from \"reactstrap\";\nimport { Stitch, AnonymousCredential, RemoteMongoClient } from \"mongodb-stitch-browser-sdk\";\nimport \"./App.css\";\nimport MealMap from \"./MealMap.js\";\nimport MealCard from \"./MealCard.js\";\nimport Itinerary from \"./Itinerary\";\n\nvar MealPreferences =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(MealPreferences, _React$Component);\n\n  function MealPreferences(props) {\n    var _this;\n\n    _classCallCheck(this, MealPreferences);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MealPreferences).call(this, props));\n\n    _this.selectedKeywords = function (selection) {\n      _this.setState({\n        selected: selection\n      });\n    };\n\n    _this.selectPrice = function (price) {\n      _this.setState({\n        price_range: price\n      });\n    };\n\n    _this.selectedDistance = function (distance) {\n      _this.setState({\n        distance: distance\n      });\n    };\n\n    _this.selectedRatings = function (rate) {\n      _this.setState({\n        ratings: rate\n      });\n    };\n\n    _this.displayedResults = function (results) {\n      _this.setState({\n        search_results: results\n      });\n    };\n\n    _this.state = {\n      selected: [],\n      count: 0,\n      price_range: \"any\",\n      //any price range\n      distance: \"any\",\n      ratings: \"any\",\n      search_result: [],\n      itinerary: [],\n      userID: \"\",\n      addToDB: false\n    };\n    _this.card = null;\n    _this.onMouseClickAdd = _this.onMouseClickAdd.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.addTrip = _this.addTrip.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.removeEvent = _this.removeEvent.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(MealPreferences, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      //intilize the app client \n      this.client = Stitch.initializeDefaultAppClient(\"rta-fowpp\"); //get a mongodb service client \n      //this is used for logging in and communitction with stitch \n\n      var mongodb = this.client.getServiceClient(RemoteMongoClient.factory, \"mongodb-atlas\"); //get reference to the todos database \n\n      this.db = mongodb.db(\"rta\");\n      this.displayOnLoad();\n    }\n  }, {\n    key: \"displayOnLoad\",\n    value: function displayOnLoad() {\n      //Anonymously log in and display cmments on load \n      this.client.auth.loginWithCredential(new AnonymousCredential()).then(console.log(\"success!\")).catch(console.error);\n    }\n  }, {\n    key: \"addTrip\",\n    value: function addTrip() {\n      var locations = this.props.location.state; //insert the todo into the remote stitch db \n      //then re query the db and display the new todos\n      // this.db.collection(\"trip\").insertOne({\"ownder_id\":this.client.auth.user.id,\"tripname\":locations.from+\"-\"+locations.to,\n      //                                                   \"trip\":[{\"start\":locations.from},{\"end\":locations.to}],\"waypoints\":this.state.itinerary})\n      //                                                   .then(console.log(\"success\")).catch(console.error);\n\n      try {\n        this.db.collection(\"trip\").updateOne({\n          \"tripname\": locations.from + \"-\" + locations.to\n        }, {\n          $set: {\n            \"waypoints\": this.state.itinerary\n          }\n        }, {\n          upsert: true\n        });\n      } catch (e) {\n        console.log(e);\n      }\n    }\n  }, {\n    key: \"onMouseClickAdd\",\n    value: function onMouseClickAdd(lat, lng, name) {\n      this.addToDB = true;\n      var newItinerary = this.state.itinerary;\n      newItinerary.push({\n        event: name,\n        pos: {\n          lat: lat,\n          lng: lng\n        }\n      });\n      this.setState({\n        itinerary: newItinerary\n      });\n\n      for (var i = 0; i < this.state.itinerary.length; i++) {\n        console.log(this.state.itinerary[i].pos.lat);\n        console.log(this.state.itinerary[i].pos.lng);\n        console.log(this.state.itinerary[i].event);\n      }\n    }\n  }, {\n    key: \"removeEvent\",\n    value: function removeEvent(name) {\n      var newItinerary = this.state.itinerary;\n      console.log(name);\n\n      for (var k = 0; k < newItinerary.length; k++) {\n        console.log(newItinerary[k].event);\n\n        if (newItinerary[k].event === name) {\n          console.log('grapes');\n          newItinerary.splice(newItinerary.indexOf(name), 1);\n        }\n      }\n\n      this.setState({\n        itinerary: newItinerary\n      });\n\n      for (var i = 0; i < this.state.itinerary.length; i++) {\n        console.log(this.state.itinerary[i].pos.lat);\n        console.log(this.state.itinerary[i].pos.lng);\n        console.log(this.state.itinerary[i].event);\n      } //array.splice(array.indexOf(key),1);\n      // console.log(\"hi\")\n\n    } //get data back from child\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var buttonStyle = {\n        position: \"fixed\",\n        top: 600,\n        left: 200\n      };\n      var mealCard = {\n        alignItems: \"left\",\n        justifyContent: \"left\",\n        display: \"flex\",\n        flexDirection: \"column\"\n      };\n      return React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }), React.createElement(MealCard, {\n        style: mealCard,\n        color: \"#ffc107\",\n        getKeywordList: this.selectedKeywords,\n        getPrice: this.selectPrice,\n        getRadius: this.selectedDistance,\n        getRatings: this.selectedRatings,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }), React.createElement(MealMap, {\n        search: this.state.selected,\n        price: this.state.price_range,\n        reviews: this.state.ratings,\n        radius: this.state.distance,\n        locations: this.props.location.state,\n        handleClick: this.onMouseClickAdd,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }), React.createElement(Itinerary, {\n        style: mealCard,\n        events: this.state.itinerary,\n        locations: this.props.location.state,\n        handleClick: this.removeEvent,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        type: \"button\",\n        style: buttonStyle,\n        class: \"btn btn-warning pl-5 pr-5\",\n        disabled: !this.addToDB,\n        onClick: this.addTrip,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, \"Save Trip Changes\"));\n    }\n  }]);\n\n  return MealPreferences;\n}(React.Component);\n\nexport default MealPreferences;","map":{"version":3,"sources":["/Users/shaila/Documents/GitHub/RoadTripAdvisor/Shaila/RTA-landing-meal/src/components/MealPreferences.js"],"names":["React","Component","Container","Stitch","AnonymousCredential","RemoteMongoClient","MealMap","MealCard","Itinerary","MealPreferences","props","selectedKeywords","selection","setState","selected","selectPrice","price","price_range","selectedDistance","distance","selectedRatings","rate","ratings","displayedResults","results","search_results","state","count","search_result","itinerary","userID","addToDB","card","onMouseClickAdd","bind","addTrip","removeEvent","client","initializeDefaultAppClient","mongodb","getServiceClient","factory","db","displayOnLoad","auth","loginWithCredential","then","console","log","catch","error","locations","location","collection","updateOne","from","to","$set","upsert","e","lat","lng","name","newItinerary","push","event","pos","i","length","k","splice","indexOf","buttonStyle","position","top","left","mealCard","alignItems","justifyContent","display","flexDirection"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n// import {Container, Col, Row,Button} from 'reactstrap'\nimport { Container } from \"reactstrap\";\nimport {Stitch,AnonymousCredential, RemoteMongoClient} from \"mongodb-stitch-browser-sdk\";\nimport \"./App.css\";\nimport MealMap from \"./MealMap.js\";\nimport MealCard from \"./MealCard.js\";\nimport Itinerary from \"./Itinerary\";\n\nclass MealPreferences extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selected: [],\n      count: 0,\n      price_range: \"any\", //any price range\n      distance: \"any\",\n      ratings: \"any\",\n      search_result: [],\n      itinerary: [],\n      userID:\"\",\n      addToDB:false\n    };\n    this.card = null;\n    this.onMouseClickAdd = this.onMouseClickAdd.bind(this);\n    this.addTrip=this.addTrip.bind(this);\n    this.removeEvent=this.removeEvent.bind(this);\n  }\n\n  componentDidMount(){\n    //intilize the app client \n  this.client=Stitch.initializeDefaultAppClient(\"rta-fowpp\");\n  //get a mongodb service client \n//this is used for logging in and communitction with stitch \nconst mongodb= this.client.getServiceClient(RemoteMongoClient.factory,\"mongodb-atlas\");\n\n//get reference to the todos database \nthis.db=mongodb.db(\"rta\");\nthis.displayOnLoad();\n\n  }\n  displayOnLoad(){\n    //Anonymously log in and display cmments on load \n    this.client.auth.loginWithCredential(new AnonymousCredential()).then(console.log(\"success!\")).catch(console.error);\n   }\n\n  \n  addTrip(){\n \n    const locations=this.props.location.state;\n    //insert the todo into the remote stitch db \n    //then re query the db and display the new todos\n    // this.db.collection(\"trip\").insertOne({\"ownder_id\":this.client.auth.user.id,\"tripname\":locations.from+\"-\"+locations.to,\n    //                                                   \"trip\":[{\"start\":locations.from},{\"end\":locations.to}],\"waypoints\":this.state.itinerary})\n    //                                                   .then(console.log(\"success\")).catch(console.error);\n    try{\n      this.db.collection(\"trip\").updateOne({\"tripname\":locations.from+\"-\"+locations.to},{$set:{\"waypoints\":this.state.itinerary}},{upsert:true});\n    }catch(e){\n      console.log(e);\n    }\n  }\n\n  onMouseClickAdd(lat, lng, name) {\n    this.addToDB=true;\n    var newItinerary = this.state.itinerary;\n    newItinerary.push({ event: name, pos: { lat: lat, lng: lng } });\n    this.setState({\n      itinerary: newItinerary\n    });\n    for (var i = 0; i < this.state.itinerary.length; i++) {\n      console.log(this.state.itinerary[i].pos.lat);\n      console.log(this.state.itinerary[i].pos.lng);\n      console.log(this.state.itinerary[i].event);\n    }\n  }\n\n  removeEvent(name){\n   \n    var newItinerary = this.state.itinerary;\n    console.log(name)\n    for(var k=0;k<newItinerary.length;k++){\n      console.log(newItinerary[k].event)\n      if(newItinerary[k].event === name){\n        console.log('grapes')\n          newItinerary.splice(newItinerary.indexOf(name),1);\n      }\n    }\n    this.setState({\n      itinerary: newItinerary\n    });\n    for (var i = 0; i < this.state.itinerary.length; i++) {\n      console.log(this.state.itinerary[i].pos.lat);\n      console.log(this.state.itinerary[i].pos.lng);\n      console.log(this.state.itinerary[i].event);\n    }\n    //array.splice(array.indexOf(key),1);\n    // console.log(\"hi\")\n  }\n\n  //get data back from child\n  selectedKeywords = selection => {\n    this.setState({\n      selected: selection\n    });\n  };\n\n  selectPrice = price => {\n    this.setState({\n      price_range: price\n    });\n  };\n\n  selectedDistance = distance => {\n    this.setState({\n      distance: distance\n    });\n  };\n\n  selectedRatings = rate => {\n    this.setState({\n      ratings: rate\n    });\n  };\n\n  displayedResults = results => {\n    this.setState({\n      search_results: results\n    });\n  };\n\n  render() {\n    var buttonStyle={position:\"fixed\",\n      top:600,\n      left:200\n    }\n    var mealCard=\n    {alignItems:\"left\",\n    justifyContent:\"left\",\n    display: \"flex\",\n    flexDirection: \"column\"}\n\n    \n\n    return (\n      <Container >\n      <p></p>\n        <MealCard\n          style={mealCard}\n          color=\"#ffc107\"\n          getKeywordList={this.selectedKeywords}\n          getPrice={this.selectPrice}\n          getRadius={this.selectedDistance}\n          getRatings={this.selectedRatings}\n        />\n        <MealMap\n          search={this.state.selected}\n          price={this.state.price_range}\n          reviews={this.state.ratings}\n          radius={this.state.distance}\n          locations={this.props.location.state}\n          handleClick={this.onMouseClickAdd}\n        />\n        <Itinerary style={mealCard} events={this.state.itinerary} locations={this.props.location.state} handleClick={this.removeEvent} />\n        <button type=\"button\" style={buttonStyle} class=\"btn btn-warning pl-5 pr-5\" disabled={!this.addToDB} onClick={this.addTrip}>Save Trip Changes</button>\n      </Container>\n     \n    );\n  }\n}\n\nexport default MealPreferences;\n"]},"metadata":{},"sourceType":"module"}